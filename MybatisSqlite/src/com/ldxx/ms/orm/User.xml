<?xml version="1.0" encoding="gbk" ?>     
	<!DOCTYPE mapper     
	PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"     
	"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.ldxx.ms.orm.User">

	<insert id="insert" parameterType="com.ldxx.ms.orm.User">
		insert into userinfo (pid,user_name,birthday,status)
		values(
			#{pid,jdbcType=VARCHAR},
			#{user_name,jdbcType=VARCHAR},
			#{birthday,jdbcType=TIMESTAMP},
			#{status,jdbcType=INTEGER}
		)
	</insert>
	
	<update id="update" parameterType="com.ldxx.ms.orm.User">
		update userinfo
		<set>
		 	status = #{status,jdbcType=INTEGER}
			<if test="user_name !=null and user_name!='' ">
				user_name = #{user_name,jdbcType=VARCHAR},
			</if>
			<if test="birthday !=null and birthday!='' ">
				birthday = #{birthday,jdbcType=TIMESTAMP},
			</if>
		</set>
		<where>
			pid = #{pid,jdbcType=VARCHAR}
		</where>
	</update>
	
	<delete id="delete" parameterType="String">
		delete from userinfo where user_name = #{name,jdbcType=VARCHAR}
	</delete>
	
	<select id="getUserByStatus" parameterType="int" resultType="com.ldxx.ms.orm.User">
		select * from userinfo where status = #{status,jdbcType=INTEGER}
	</select>

</mapper>